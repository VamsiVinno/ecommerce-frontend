{"ast":null,"code":"import { Component, Input, ViewChild, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { BrowserModule } from '@angular/platform-browser';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\nconst _c0 = [\"myresult\"];\nconst _c1 = [\"myimage\"];\nconst _c2 = [\"zoomDiv\"];\n\nfunction NgImgMagnifierComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\");\n    ɵngcc0.ɵɵelement(1, \"div\", 7, 8);\n    ɵngcc0.ɵɵelementEnd();\n  }\n}\n\nlet NgImgMagnifierComponent = /*#__PURE__*/(() => {\n  class NgImgMagnifierComponent {\n    constructor() {\n      this.thumbImage = '';\n      this.fullImage = '';\n      this.top = '2';\n      this.right = '1';\n      this.lensWidth = '150';\n      this.lensHeight = '150';\n      this.resultWidth = '35';\n      this.resultHeight = '60';\n      this.imgWidth = '300';\n      this.imgHeight = '300';\n    }\n\n    ngOnInit() {}\n\n    imageZoom() {\n      this.showLensDiv();\n      var img, lens, result, cx, cy;\n      result = this.resultID.nativeElement;\n      result.style.top = this.top + '%';\n      result.style.right = this.right + '%';\n      result.style.width = this.resultWidth + '%';\n      result.style.height = this.resultHeight + '%';\n      this.showZoom = true;\n      img = this.imgID.nativeElement;\n      lens = this.zoomDiv.nativeElement;\n\n      if (img.width > img.height * 2) {\n        lens.style.width = img.width / 3 + \"px\";\n        lens.style.height = img.height / 1 + \"px\";\n      } else if (img.height > img.width * 2) {\n        lens.style.width = img.width / 1 + \"px\";\n        lens.style.height = img.height / 3 + \"px\";\n      } else {\n        lens.style.width = this.lensWidth + \"px\";\n        lens.style.height = this.lensHeight + \"px\";\n      }\n\n      lens.style.opacity = 1;\n      cx = result.offsetWidth / lens.offsetWidth;\n      cy = result.offsetHeight / lens.offsetHeight;\n      result.style.backgroundImage = \"url('\" + this.fullImage + \"')\";\n      result.style.backgroundSize = img.width * cx + \"px \" + img.height * cy + \"px\";\n      lens.addEventListener(\"mousemove\", moveLens);\n      img.addEventListener(\"mousemove\", moveLens);\n      lens.addEventListener(\"touchmove\", moveLens);\n      img.addEventListener(\"touchmove\", moveLens);\n\n      function moveLens(e) {\n        var pos, x, y;\n        e.preventDefault();\n        pos = getPointerPosition(e);\n        x = pos.x - lens.offsetWidth / 2;\n        y = pos.y - lens.offsetHeight / 2;\n\n        if (x > img.width - lens.offsetWidth) {\n          x = img.width - lens.offsetWidth;\n        }\n\n        if (x < 0) {\n          x = 0;\n        }\n\n        if (y > img.height - lens.offsetHeight) {\n          y = img.height - lens.offsetHeight;\n        }\n\n        if (y < 0) {\n          y = 0;\n        }\n\n        lens.style.left = x + 5 + \"px\";\n        lens.style.top = y + 5 + \"px\";\n        result.style.backgroundPosition = \"-\" + x * cx + \"px -\" + y * cy + \"px\";\n      }\n\n      function getPointerPosition(e) {\n        var a,\n            x = 0,\n            y = 0;\n        e = e || window.event;\n        a = img.getBoundingClientRect();\n        x = e.pageX - a.left;\n        y = e.pageY - a.top;\n        x = x - window.pageXOffset;\n        y = y - window.pageYOffset;\n        return {\n          x: x,\n          y: y\n        };\n      }\n    }\n\n    showZoomWin() {\n      this.showZoom = true;\n    }\n\n    hideZoomWin() {\n      this.showZoom = false;\n      this.zoomDiv.nativeElement.style.opacity = 0;\n      this.zoomDiv.nativeElement.style.display = 'none';\n    }\n\n    showLensDiv() {\n      this.zoomDiv.nativeElement.style.display = 'block';\n    }\n\n  }\n\n  NgImgMagnifierComponent.ɵfac = function NgImgMagnifierComponent_Factory(t) {\n    return new (t || NgImgMagnifierComponent)();\n  };\n\n  NgImgMagnifierComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n    type: NgImgMagnifierComponent,\n    selectors: [[\"ng-img-magnifier\"]],\n    viewQuery: function NgImgMagnifierComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, 5);\n        ɵngcc0.ɵɵviewQuery(_c1, 5);\n        ɵngcc0.ɵɵviewQuery(_c2, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.resultID = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.imgID = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.zoomDiv = _t.first);\n      }\n    },\n    inputs: {\n      thumbImage: \"thumbImage\",\n      fullImage: \"fullImage\",\n      top: \"top\",\n      right: \"right\",\n      lensWidth: \"lensWidth\",\n      lensHeight: \"lensHeight\",\n      resultWidth: \"resultWidth\",\n      resultHeight: \"resultHeight\",\n      imgWidth: \"imgWidth\",\n      imgHeight: \"imgHeight\"\n    },\n    decls: 7,\n    vars: 4,\n    consts: [[1, \"img-zoom-container\"], [1, \"outerImg\", 3, \"mouseenter\", \"mouseleave\"], [\"id\", \"myimage\", 1, \"mainImg\", 2, \"vertical-align\", \"middle !important\", 3, \"src\", \"width\", \"height\", \"mousemove\"], [\"myimage\", \"\"], [\"id\", \"zoomDiv \", 1, \"img-zoom-lens\"], [\"zoomDiv\", \"\"], [4, \"ngIf\"], [\"id\", \"myresult \", 1, \"img-zoom-result\"], [\"myresult\", \"\"]],\n    template: function NgImgMagnifierComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵelementStart(1, \"div\", 1);\n        ɵngcc0.ɵɵlistener(\"mouseenter\", function NgImgMagnifierComponent_Template_div_mouseenter_1_listener() {\n          return ctx.showZoomWin();\n        })(\"mouseleave\", function NgImgMagnifierComponent_Template_div_mouseleave_1_listener() {\n          return ctx.hideZoomWin();\n        });\n        ɵngcc0.ɵɵelementStart(2, \"img\", 2, 3);\n        ɵngcc0.ɵɵlistener(\"mousemove\", function NgImgMagnifierComponent_Template_img_mousemove_2_listener() {\n          return ctx.imageZoom();\n        });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelement(4, \"div\", 4, 5);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(6, NgImgMagnifierComponent_div_6_Template, 3, 0, \"div\", 6);\n      }\n\n      if (rf & 2) {\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵpropertyInterpolate(\"src\", ctx.thumbImage, ɵngcc0.ɵɵsanitizeUrl);\n        ɵngcc0.ɵɵpropertyInterpolate(\"width\", ctx.imgWidth);\n        ɵngcc0.ɵɵpropertyInterpolate(\"height\", ctx.imgHeight);\n        ɵngcc0.ɵɵadvance(4);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.showZoom);\n      }\n    },\n    directives: [ɵngcc1.NgIf],\n    styles: [\"html[_ngcontent-%COMP%], body[_ngcontent-%COMP%] {\\n        height: 100%;\\n    }\", \"body[_ngcontent-%COMP%] {\\n        margin: 0;\\n    }\", \"*[_ngcontent-%COMP%] {\\n        box-sizing: border-box;\\n    }\", \".img-zoom-container[_ngcontent-%COMP%] {\\n        position: relative;\\n    }\", \".img-zoom-lens[_ngcontent-%COMP%] {\\n        position: absolute;\\n        border: 1px solid #d4d4d4;\\n        // background-image: url('./assets/zoom-image.png');\\n        background-color: rgb(255, 255, 255, 0.2);\\n        background-repeat: repeat;\\n        background-size: contain;\\n        opacity: 0;\\n        cursor: zoom-in !important;\\n        display: none;\\n    }\", \".img-zoom-result[_ngcontent-%COMP%] {\\n        background-color: none;\\n        background-repeat: no-repeat;\\n        transition: 0.3s;\\n        border-radius: 5px;\\n        position: absolute;\\n    }\", \"@media screen and (max-width: 800px) {\\n        .img-zoom-result[_ngcontent-%COMP%] {\\n            display: none;\\n        }\\n    }\", \".show[_ngcontent-%COMP%] {\\n        opacity: 500;\\n    }\", \".hide[_ngcontent-%COMP%] {\\n        opacity: 0;\\n    }\", \".mainImg[_ngcontent-%COMP%] {\\n        vertical-align: middle !important;\\n    }\", \".outerImg[_ngcontent-%COMP%] {\\n        width: 310px;\\n        height: auto;\\n        padding-left: 5px;\\n        padding-right: 5px;\\n        padding-top: 5px;\\n        padding-bottom: 5px;\\n    }\"]\n  });\n  return NgImgMagnifierComponent;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\nlet ImgMagnifier = /*#__PURE__*/(() => {\n  class ImgMagnifier {}\n\n  ImgMagnifier.ɵfac = function ImgMagnifier_Factory(t) {\n    return new (t || ImgMagnifier)();\n  };\n\n  ImgMagnifier.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: ImgMagnifier\n  });\n  ImgMagnifier.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    imports: [[CommonModule, BrowserModule]]\n  });\n  return ImgMagnifier;\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ImgMagnifier, {\n    declarations: function () {\n      return [NgImgMagnifierComponent];\n    },\n    imports: function () {\n      return [CommonModule, BrowserModule];\n    },\n    exports: function () {\n      return [NgImgMagnifierComponent];\n    }\n  });\n})();\n/*\r\n * Public API Surface of ng-img-magnifier\r\n */\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\n\nexport { ImgMagnifier, NgImgMagnifierComponent }; //# sourceMappingURL=ng-img-magnifier.js.map","map":null,"metadata":{},"sourceType":"module"}