{"ast":null,"code":"import Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/ecom.services\";\nimport * as i2 from \"src/app/shared/shared.services\";\nimport * as i3 from \"@angular/common/http\";\nimport * as i4 from \"../pages.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"ng-img-magnifier\";\nconst _c0 = [\"resultImage\"];\nconst _c1 = [\"myimage\"];\nconst _c2 = [\"myresult\"];\n\nfunction ProductsComponent_ng_container_6_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵi18nStart(0, 2, 2);\n    i0.ɵɵelementStart(1, \"div\", 16);\n    i0.ɵɵlistener(\"mouseover\", function ProductsComponent_ng_container_6_div_2_Template_div_mouseover_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const i_r2 = i0.ɵɵnextContext().index;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.onMouse(i_r2);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵi18nEnd();\n  }\n\n  if (rf & 2) {\n    const item_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"background-image\", \"url(\" + item_r1 + \")\");\n  }\n}\n\nfunction ProductsComponent_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵi18nStart(0, 2, 1);\n    i0.ɵɵelementContainerStart(1);\n    i0.ɵɵtemplate(2, ProductsComponent_ng_container_6_div_2_Template, 2, 2, \"div\", 15);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵi18nEnd();\n  }\n\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", item_r1);\n  }\n}\n\nexport let ProductsComponent = /*#__PURE__*/(() => {\n  class ProductsComponent {\n    constructor(ecomService, shared, httpclient, pageService, route, renderer) {\n      this.ecomService = ecomService;\n      this.shared = shared;\n      this.httpclient = httpclient;\n      this.pageService = pageService;\n      this.route = route;\n      this.renderer = renderer;\n      this.clickedProduct = localStorage.getItem('clickedProduct');\n      this.productDetails = JSON.parse(this.clickedProduct);\n      this.myThumbnail = \"https://wittlock.github.io/ngx-image-zoom/assets/thumb.jpg\";\n      this.myFullresImage = \"https://wittlock.github.io/ngx-image-zoom/assets/fullres.jpg\";\n    }\n\n    onAddBag() {\n      return this.httpclient.post('http://192.168.0.12:3005/api/addToCart', {\n        productId: this.productDetails.product_id,\n        productCount: 1\n      }, {\n        responseType: 'text'\n      }).subscribe(res => {\n        this.ecomService.cart().subscribe(res => {\n          console.log(res);\n          this.totalCount = res.reduce((acc, ele) => {\n            return acc + ele.product_count;\n          }, 0);\n          this.shared.setCartLength(this.totalCount); // console.log(this.shared.cartLength);\n        });\n        console.log(res);\n        Swal.fire({\n          position: 'center',\n          icon: 'success',\n          title: 'Your item is added to cart',\n          showConfirmButton: false,\n          timer: 1500\n        });\n      });\n    }\n\n    show() {\n      this.showPreview = true;\n    }\n\n    onMouse(i) {\n      console.log(i);\n      this.imageIndex = i;\n    }\n\n    onBuy() {\n      let productArray = [];\n      productArray.push(this.productDetails);\n      console.log(this.productDetails);\n      this.pageService.cartArray.next(productArray);\n      this.route.navigate(['/address']);\n    }\n\n    getPosition(event) {\n      // console.log(event.x, this.result.nativeElement);\n      let x = event.x;\n      let y = event.y; // (this.result.nativeElement as HTMLElement).style.display='none';\n      // console.log(x,y);\n      // (this.result.nativeElement as HTMLElement).style.transform = `translate3d(${x}px,${y}px,0px)`\n      // this.renderer.setStyle(this.result.nativeElement,'transform',`translate(${event.x},${event.y})`)\n      // this.renderer.setStyle(this.result.nativeElement,'backgroundPosition', \"-\" + (event.x * cx) + \"px -\" + (event.y * cy) + \"px\")\n\n      /*display what the lens \"sees\":*/\n      // this.result!.nativeElement.style.top\n      // this.result!.nativeElement.style.left\n    }\n\n    ngOnInit() {\n      this.imageIndex = 0; // this.ecomService.allProducts().subscribe((res: any) => {\n      //   this.clickedPorductIndex = this.shared.clickedProduct;\n      //   console.log(res[this.clickedPorductIndex]);\n      //   // this.productDetails = res[this.clickedPorductIndex];\n      // });\n    }\n\n    ngOnChanges() {}\n\n  }\n\n  ProductsComponent.ɵfac = function ProductsComponent_Factory(t) {\n    return new (t || ProductsComponent)(i0.ɵɵdirectiveInject(i1.EcomServices), i0.ɵɵdirectiveInject(i2.SharedService), i0.ɵɵdirectiveInject(i3.HttpClient), i0.ɵɵdirectiveInject(i4.PagesService), i0.ɵɵdirectiveInject(i5.Router), i0.ɵɵdirectiveInject(i0.Renderer2));\n  };\n\n  ProductsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductsComponent,\n    selectors: [[\"app-products\"]],\n    viewQuery: function ProductsComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n        i0.ɵɵviewQuery(_c2, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.result = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.image = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.myresult = _t.first);\n      }\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 21,\n    vars: 16,\n    consts: function () {\n      let i18n_3;\n\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_2243431516723717423$$SRC_APP_PAGES_PRODUCTS_PRODUCTS_COMPONENT_TS__4 = goog.getMsg(\"{$startTagDiv_4}{$startTagDiv_3}{$startTagDiv_1}{$startTagNgContainer}{$startTagDiv}{$closeTagDiv}{$closeTagNgContainer}{$closeTagDiv}{$startTagDiv_2}{$startTagNgImgMagnifier}{$closeTagNgImgMagnifier}{$closeTagDiv}{$closeTagDiv}{$closeTagDiv}{$startTagDiv_5}{$lineBreak}{$lineBreak}{$startHeadingLevel3}{$interpolation}{$closeHeadingLevel3}{$startParagraph}{$interpolation_1}{$closeParagraph}{$startParagraph}{$startTagSpan}Price:{$closeTagSpan}{$interpolation_2} {$closeParagraph}{$startTagButton}{$startItalicText}{$closeItalicText}Add to bag {$closeTagButton}{$startTagButton_1}{$startItalicText_1}{$closeItalicText} Buy now {$closeTagButton}{$closeTagDiv}\", {\n          \"startTagDiv_4\": \"\\uFFFD#3\\uFFFD\",\n          \"startTagDiv_3\": \"\\uFFFD#4\\uFFFD\",\n          \"startTagDiv_1\": \"\\uFFFD#5\\uFFFD\",\n          \"startTagNgContainer\": \"\\uFFFD*6:1\\uFFFD\\uFFFD#1:1\\uFFFD\",\n          \"closeTagNgContainer\": \"\\uFFFD/#1:1\\uFFFD\\uFFFD/*6:1\\uFFFD\",\n          \"closeTagDiv\": \"[\\uFFFD/#5\\uFFFD|\\uFFFD/#7\\uFFFD|\\uFFFD/#4\\uFFFD|\\uFFFD/#3\\uFFFD|\\uFFFD/#9\\uFFFD|\\uFFFD/#1:2\\uFFFD\\uFFFD/*2:2\\uFFFD]\",\n          \"startTagDiv_2\": \"\\uFFFD#7\\uFFFD\",\n          \"startTagNgImgMagnifier\": \"\\uFFFD#8\\uFFFD\",\n          \"closeTagNgImgMagnifier\": \"\\uFFFD/#8\\uFFFD\",\n          \"startTagDiv_5\": \"\\uFFFD#9\\uFFFD\",\n          \"lineBreak\": \"[\\uFFFD#10\\uFFFD\\uFFFD/#10\\uFFFD|\\uFFFD#11\\uFFFD\\uFFFD/#11\\uFFFD]\",\n          \"startHeadingLevel3\": \"\\uFFFD#12\\uFFFD\",\n          \"interpolation\": \"\\uFFFD0\\uFFFD\",\n          \"closeHeadingLevel3\": \"\\uFFFD/#12\\uFFFD\",\n          \"startParagraph\": \"[\\uFFFD#13\\uFFFD|\\uFFFD#14\\uFFFD]\",\n          \"interpolation_1\": \"\\uFFFD1\\uFFFD\",\n          \"closeParagraph\": \"[\\uFFFD/#13\\uFFFD|\\uFFFD/#14\\uFFFD]\",\n          \"startTagSpan\": \"\\uFFFD#15\\uFFFD\",\n          \"closeTagSpan\": \"\\uFFFD/#15\\uFFFD\",\n          \"interpolation_2\": \"\\uFFFD2\\uFFFD\",\n          \"startTagButton\": \"\\uFFFD#17\\uFFFD\",\n          \"startItalicText\": \"\\uFFFD#18\\uFFFD\",\n          \"closeItalicText\": \"[\\uFFFD/#18\\uFFFD|\\uFFFD/#20\\uFFFD]\",\n          \"closeTagButton\": \"[\\uFFFD/#17\\uFFFD|\\uFFFD/#19\\uFFFD]\",\n          \"startTagButton_1\": \"\\uFFFD#19\\uFFFD\",\n          \"startItalicText_1\": \"\\uFFFD#20\\uFFFD\",\n          \"startTagDiv\": \"\\uFFFD*2:2\\uFFFD\\uFFFD#1:2\\uFFFD\"\n        });\n        i18n_3 = MSG_EXTERNAL_2243431516723717423$$SRC_APP_PAGES_PRODUCTS_PRODUCTS_COMPONENT_TS__4;\n      } else {\n        i18n_3 = $localize`${\"\\uFFFD#3\\uFFFD\"}:START_TAG_DIV_4:${\"\\uFFFD#4\\uFFFD\"}:START_TAG_DIV_3:${\"\\uFFFD#5\\uFFFD\"}:START_TAG_DIV_1:${\"\\uFFFD*6:1\\uFFFD\\uFFFD#1:1\\uFFFD\"}:START_TAG_NG_CONTAINER:${\"\\uFFFD*2:2\\uFFFD\\uFFFD#1:2\\uFFFD\"}:START_TAG_DIV:${\"[\\uFFFD/#5\\uFFFD|\\uFFFD/#7\\uFFFD|\\uFFFD/#4\\uFFFD|\\uFFFD/#3\\uFFFD|\\uFFFD/#9\\uFFFD|\\uFFFD/#1:2\\uFFFD\\uFFFD/*2:2\\uFFFD]\"}:CLOSE_TAG_DIV:${\"\\uFFFD/#1:1\\uFFFD\\uFFFD/*6:1\\uFFFD\"}:CLOSE_TAG_NG_CONTAINER:${\"[\\uFFFD/#5\\uFFFD|\\uFFFD/#7\\uFFFD|\\uFFFD/#4\\uFFFD|\\uFFFD/#3\\uFFFD|\\uFFFD/#9\\uFFFD|\\uFFFD/#1:2\\uFFFD\\uFFFD/*2:2\\uFFFD]\"}:CLOSE_TAG_DIV:${\"\\uFFFD#7\\uFFFD\"}:START_TAG_DIV_2:${\"\\uFFFD#8\\uFFFD\"}:START_TAG_NG_IMG_MAGNIFIER:${\"\\uFFFD/#8\\uFFFD\"}:CLOSE_TAG_NG_IMG_MAGNIFIER:${\"[\\uFFFD/#5\\uFFFD|\\uFFFD/#7\\uFFFD|\\uFFFD/#4\\uFFFD|\\uFFFD/#3\\uFFFD|\\uFFFD/#9\\uFFFD|\\uFFFD/#1:2\\uFFFD\\uFFFD/*2:2\\uFFFD]\"}:CLOSE_TAG_DIV:${\"[\\uFFFD/#5\\uFFFD|\\uFFFD/#7\\uFFFD|\\uFFFD/#4\\uFFFD|\\uFFFD/#3\\uFFFD|\\uFFFD/#9\\uFFFD|\\uFFFD/#1:2\\uFFFD\\uFFFD/*2:2\\uFFFD]\"}:CLOSE_TAG_DIV:${\"[\\uFFFD/#5\\uFFFD|\\uFFFD/#7\\uFFFD|\\uFFFD/#4\\uFFFD|\\uFFFD/#3\\uFFFD|\\uFFFD/#9\\uFFFD|\\uFFFD/#1:2\\uFFFD\\uFFFD/*2:2\\uFFFD]\"}:CLOSE_TAG_DIV:${\"\\uFFFD#9\\uFFFD\"}:START_TAG_DIV_5:${\"[\\uFFFD#10\\uFFFD\\uFFFD/#10\\uFFFD|\\uFFFD#11\\uFFFD\\uFFFD/#11\\uFFFD]\"}:LINE_BREAK:${\"[\\uFFFD#10\\uFFFD\\uFFFD/#10\\uFFFD|\\uFFFD#11\\uFFFD\\uFFFD/#11\\uFFFD]\"}:LINE_BREAK:${\"\\uFFFD#12\\uFFFD\"}:START_HEADING_LEVEL3:${\"\\uFFFD0\\uFFFD\"}:INTERPOLATION:${\"\\uFFFD/#12\\uFFFD\"}:CLOSE_HEADING_LEVEL3:${\"[\\uFFFD#13\\uFFFD|\\uFFFD#14\\uFFFD]\"}:START_PARAGRAPH:${\"\\uFFFD1\\uFFFD\"}:INTERPOLATION_1:${\"[\\uFFFD/#13\\uFFFD|\\uFFFD/#14\\uFFFD]\"}:CLOSE_PARAGRAPH:${\"[\\uFFFD#13\\uFFFD|\\uFFFD#14\\uFFFD]\"}:START_PARAGRAPH:${\"\\uFFFD#15\\uFFFD\"}:START_TAG_SPAN:Price:${\"\\uFFFD/#15\\uFFFD\"}:CLOSE_TAG_SPAN:${\"\\uFFFD2\\uFFFD\"}:INTERPOLATION_2: ${\"[\\uFFFD/#13\\uFFFD|\\uFFFD/#14\\uFFFD]\"}:CLOSE_PARAGRAPH:${\"\\uFFFD#17\\uFFFD\"}:START_TAG_BUTTON:${\"\\uFFFD#18\\uFFFD\"}:START_ITALIC_TEXT:${\"[\\uFFFD/#18\\uFFFD|\\uFFFD/#20\\uFFFD]\"}:CLOSE_ITALIC_TEXT:Add to bag ${\"[\\uFFFD/#17\\uFFFD|\\uFFFD/#19\\uFFFD]\"}:CLOSE_TAG_BUTTON:${\"\\uFFFD#19\\uFFFD\"}:START_TAG_BUTTON_1:${\"\\uFFFD#20\\uFFFD\"}:START_ITALIC_TEXT_1:${\"[\\uFFFD/#18\\uFFFD|\\uFFFD/#20\\uFFFD]\"}:CLOSE_ITALIC_TEXT: Buy now ${\"[\\uFFFD/#17\\uFFFD|\\uFFFD/#19\\uFFFD]\"}:CLOSE_TAG_BUTTON:${\"[\\uFFFD/#5\\uFFFD|\\uFFFD/#7\\uFFFD|\\uFFFD/#4\\uFFFD|\\uFFFD/#3\\uFFFD|\\uFFFD/#9\\uFFFD|\\uFFFD/#1:2\\uFFFD\\uFFFD/*2:2\\uFFFD]\"}:CLOSE_TAG_DIV:`;\n      }\n\n      i18n_3 = i0.ɵɵi18nPostprocess(i18n_3);\n      return [[1, \"container-fluid\"], [1, \"row\", \"mt-3\"], i18n_3, [1, \"col-lg-7\"], [1, \"row\"], [1, \"col-lg-2\", \"ml-5\", \"mt-3\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-lg-6\", \"col-md-6\", \"mt-3\"], [3, \"thumbImage\", \"fullImage\", \"top\", \"right\", \"lensWidth\", \"lensHeight\", \"resultWidth\", \"resultHeight\", \"imgWidth\", \"imgHeight\"], [1, \"col-lg-3\"], [1, \"mr-2\", 2, \"font-weight\", \"500\", \"font-size\", \"18px\"], [1, \"btn\", \"btn-dark\", \"mr-3\", 3, \"click\"], [1, \"fa\", \"fa-shopping-cart\", \"mr-1\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"fa\", \"fa-bolt\", \"mr-1\"], [\"class\", \"child zoomA\", \"style\", \"\\n                height: 80px;\\n                width: 80px;\\n                background-repeat: no-repeat;\\n                background-size: cover;\\n                background-origin: border-box;\\n              \", 3, \"background-image\", \"mouseover\", 4, \"ngIf\"], [1, \"child\", \"zoomA\", 2, \"height\", \"80px\", \"width\", \"80px\", \"background-repeat\", \"no-repeat\", \"background-size\", \"cover\", \"background-origin\", \"border-box\", 3, \"mouseover\"]];\n    },\n    template: function ProductsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵi18nStart(2, 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵelementStart(5, \"div\", 5);\n        i0.ɵɵtemplate(6, ProductsComponent_ng_container_6_Template, 3, 1, \"ng-container\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 7);\n        i0.ɵɵelement(8, \"ng-img-magnifier\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 9);\n        i0.ɵɵelement(10, \"br\");\n        i0.ɵɵelement(11, \"br\");\n        i0.ɵɵelement(12, \"h3\");\n        i0.ɵɵelement(13, \"p\");\n        i0.ɵɵelementStart(14, \"p\");\n        i0.ɵɵelement(15, \"span\", 10);\n        i0.ɵɵpipe(16, \"currency\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"button\", 11);\n        i0.ɵɵlistener(\"click\", function ProductsComponent_Template_button_click_17_listener() {\n          return ctx.onAddBag();\n        });\n        i0.ɵɵelement(18, \"i\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"button\", 13);\n        i0.ɵɵlistener(\"click\", function ProductsComponent_Template_button_click_19_listener() {\n          return ctx.onBuy();\n        });\n        i0.ɵɵelement(20, \"i\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵi18nEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.productDetails == null ? null : ctx.productDetails.images);\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"thumbImage\", (ctx.productDetails == null ? null : ctx.productDetails.images)[ctx.imageIndex]);\n        i0.ɵɵpropertyInterpolate(\"fullImage\", (ctx.productDetails == null ? null : ctx.productDetails.images)[ctx.imageIndex]);\n        i0.ɵɵproperty(\"top\", \"1\")(\"right\", \"-190\")(\"lensWidth\", \"200\")(\"lensHeight\", \"200\")(\"resultWidth\", \"150\")(\"resultHeight\", \"120\")(\"imgWidth\", \"500\")(\"imgHeight\", \"650\");\n        i0.ɵɵadvance(12);\n        i0.ɵɵi18nExp(ctx.productDetails == null ? null : ctx.productDetails.brand)(ctx.productDetails == null ? null : ctx.productDetails.product_name)(i0.ɵɵpipeBind1(16, 14, ctx.productDetails == null ? null : ctx.productDetails.price));\n        i0.ɵɵi18nApply(2);\n      }\n    },\n    directives: [i6.NgForOf, i7.NgImgMagnifierComponent, i6.NgIf],\n    pipes: [i6.CurrencyPipe],\n    styles: [\".parent[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}*[_ngcontent-%COMP%]{max-height:100%}.child[_ngcontent-%COMP%]{flex:0 0 33.333333%;margin:5px}.zoomA[_ngcontent-%COMP%]:hover{cursor:zoom-in;transform:scale(1.2);transition-duration:1s}  .ngxImageZoomContainer{width:540px;height:678px}  .ngxImageZoomThumbnail{width:100%}*[_ngcontent-%COMP%]{box-sizing:border-box}  .img-zoom-result{z-index:3}#myresult[_ngcontent-%COMP%]{margin-left:600px}\"]\n  });\n  return ProductsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}